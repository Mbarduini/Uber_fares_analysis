# Cargar librerias
library(tidyverse)
library(dplyr)
library(scales)
library(lubridate)
library(reshape2)
library(gridExtra)
library(grid)
library(corrplot)
uber_fares_dataset_variables <- read.csv("data/processed/uber_fares_dataset_variables.csv")
source(file.path("funciones", "visualizacion_funciones.R"))
histograma_fare <- ggplot(uber_fares_dataset_variables %>%
filter(fare_amount > 0),
aes(x = fare_amount)) +
geom_histogram(bins = 50,
fill = colores_uber["primario"],
color = "white",
alpha = 0.8) +
geom_vline(aes(xintercept = mean(fare_amount, na.rm = TRUE)),
color = colores_uber["acento"],    # Naranja para media
linetype = "dashed",
linewidth = 1) +
geom_vline(aes(xintercept = median(fare_amount, na.rm = TRUE)),
color = colores_uber["secundario"], # Verde petróleo para mediana
linetype = "dashed",
linewidth = 1) +
scale_x_continuous(expand = c(0, 0), limits = c(0, NA)) +
scale_y_continuous(expand = expansion(mult = c(0, 0.1)), limits = c(0, NA), labels = scales:dollar_format(prefix = "$"))+
theme_uber() +
theme(
plot.margin = margin(40, 25, 20, 20),  # Aún más espacio superior
plot.title = element_text(hjust = 0.5, size = 14, face = "bold",
color = "#14535f", margin = margin(b = 8)),  # Más espacio después del título
axis.text.x = element_text(margin = margin(t = 5)),
axis.text.y = element_text(margin = margin(r = 5))
) +
labs(
title = "Distribución de Tarifas - Viajes Uber",
subtitle = "Línea naranja: Media | Línea verde: Mediana",
x = "Tarifa (USD)",
y = "Frecuencia"
)
uber_fares_dataset_variables <- read.csv("data/processed/uber_fares_dataset_variables.csv")
